<!DOCTYPE html>
<html class="rcd-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <title>Data Toolbox</title>
    <link rel="shortcut icon" href="{{assetsUrl}}/icons/favicon.png">
    <link rel="stylesheet" type="text/css" href="{{assetsUrl}}/style/main.css"/>
    <script src="{{assetsUrl}}/js/rcd-jsfwk-core.js" type="text/javascript"></script>
    <script src="{{assetsUrl}}/js/rcd-jsfwk-material.js" type="text/javascript"></script>
    <script src="{{assetsUrl}}/js/data-toolbox.js" type="text/javascript"></script>

    <script>
        const config = {
            servicesUrl: '{{servicesUrl}}',
            assetsUrl: '{{assetsUrl}}',
            wsUrl: '{{wsUrl}}',
            xpVersion: '{{xpVersion}}',
            appName: '{{appName}}'
        };
    </script>
</head>

<body class="rcd-body">
<script>
    let eventManager;
    let taskManager;
    let app;
    new EventManager().initPromise()
        .then(initializedEventManager => {
            eventManager = initializedEventManager;
            return new TaskManager(initializedEventManager).initPromise();
        })
        .then(initializedTaskManager => {
            taskManager = initializedTaskManager;
        })
        .catch(() => {
            //Nothing to do
        })
        .finally(() => {
            app = createApp();
            app.start(document.body);
        });
</script>
</body>

</html>